<!doctype html>
<html lang="en">
<head>
    <title>alt.tec.fic</title>
    <meta charset="utf-8">
</head>
<body style="background-color:#000000;">
    <h1 style="font-family:Lucida Console;text-align:center;color:#aaffaa;">ALT.TEC.FIC</h1>

    <p style="font-family:Lucida Console;text-align:center;color:#aaffaa;">
        randomly generated technology for science fiction
    </p>

    <div id='output' style="margin:0;width:100%;text-align:center;color:#aaffaa;background-color:#111111;">
        Text will be replaced by script
    </div>

    <p style="text-align:center;"><a style="color:#aaaaff;" href="index.html">Go to a different Universe</a></p>

    <p style="text-align:center;"><a style="color:#aaaaff;" href="http://www.dustinfreeman.org">By Dustin Freeman</a></p>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

    <script type="text/javascript">

//RANDOM
var seed = 0;

//seed the seed
function getRandomInt(min, max) {
  return Math.floor(Math.random() * (max - min)) + min;
}
seed = getRandomInt(0, Math.pow(2,32));

Math.seed = function(s) {
    return function() {
        s = Math.sin(s) * 10000; return s - Math.floor(s);
    };
};

//override the Math.random function with our seed
Math.random = Math.seed(seed);

function rand_int(n)
{
    //up to but not including n.
    return Math.floor(Math.random()*n);
}

function rand_choice(arr) {
    var index = rand_int(arr.length);
    var word = arr[index];
    return word;
}

function rand_choice_and_remove(arr) {
    var index = rand_int(arr.length);
    var word = arr[index];
    arr.splice(index, 1);
    return word;
}

//SETUP
var outputText = document.getElementById('output');
outputText.innerHTML = '';

function appendText(t)
{
    outputText.appendChild(document.createTextNode(t));
}

function createTech(t)
{
    outputText.appendChild(document.createElement('br'));
    outputText.appendChild(document.createElement('br'));

    var textNode = document.createTextNode(t);

    // var textDiv = document.createElement('div');
    // textDiv.style.fontWeight = "bold";

    // textDiv.appendChild(textNode);

    // outputText.appendChild(textDiv);

    outputText.appendChild(textNode);
}

function createSubTech(t)
{
    outputText.appendChild(document.createElement('br'));
    outputText.appendChild(document.createTextNode(t));
}

appendText('UNIVERSE ' + seed);

var technology_ease = new Array(
    "trivial",
    "a basic research project",
    "a massive undertaking",
    "only possible as a civilization-wide project",
    "an obvious crapshoot",
    "an unclear, costly crapshoot",
    "not really desired by anyone");
var TECH_DOABLE_MAX_INDEX = 3;

var technologies = new Array(
    "high-strength materials",
    "cryogenics",
    "long-distance radio communication",
    "bio-engineering",
    "bionics and cybernetics",
    "uploaded consciousnesses",
    "androids",
    "AI",
    "enclosed sustainable environments",
    "terraforming",
    "artificial gravity",
    "slower-than-light interstellar travel",
    "planetary annihilation",
    "faster-than-light communication",
    "teleportation",
    "faster-than-light travel",
    "long-distance research disruption (Sophons)"
    );

var subTechs = [];
subTechs["high-strength materials"] = new Array(
    "space elevator construction",
    "ring worlds"
    );
subTechs["bio-engineering"] = new Array(
    "high-g tolerance",
    "long-age treatment"
    );
subTechs["AI"] = new Array(
    "indistinguishable VR environments",
    "god-level AI"
    );
subTechs["slower-than-light interstellar travel"] = new Array(
    "solar sails",
    "hydrogen scoops",
    "ion engines",
    "generation ships",
    "fusion torchships"
    );
subTechs["faster-than-light travel"] = new Array(
    "straight-up warp drive",
    "naturally-occuring wormholes",
    "jump gate creation"
    );
subTechs["planetary annihilation"] = new Array(
    "solar annihilation"
    );

//OUTPUT
for (i = 0; i < technologies.length; i++) {
    var tech = technologies[i];
    var last_char = tech.charAt(tech.length - 1);
    var conjugation = 'ERROR';
    if (last_char == 's')
        conjugation = 'are';
    else
        conjugation = 'is';

    var techEase = rand_int(technology_ease.length);

    createTech(tech + ' ' +
        conjugation + ' ' +
        technology_ease[techEase] + '.');

    if (!subTechs[tech])
        continue;
    if (techEase > TECH_DOABLE_MAX_INDEX)
        continue;

    for (s = 0; s < subTechs[tech].length; s++) {
        var subTech = subTechs[tech][s];

        var last_char = subTech.charAt(subTech.length - 1);

        if (last_char == 's')
            conjugation = 'are';
        else
            conjugation = 'is';

        createSubTech(subTech + ' ' +
            conjugation + ' ' +
            rand_choice(technology_ease) + '.');

    }
}






    </script>


</body>
</html>
